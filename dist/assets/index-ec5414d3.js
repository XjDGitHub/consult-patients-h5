import{l as M,v as b,H as _,r as p,R as L,S as D,T as I,f as O,U as z,V as P,m as x,G as C,W as Q}from"./index-1f5bf9e6.js";function g(e){return D()?(I(e),!0):!1}function h(e){return typeof e=="function"?e():O(e)}const w=typeof window<"u",T=()=>{};function V(...e){if(e.length!==1)return z(...e);const t=e[0];return typeof t=="function"?L(P(()=>({get:t,set:T}))):p(t)}function $(e,t=!0){M()?b(e):t?e():_(e)}function k(e,t,i={}){const{immediate:r=!0}=i,n=p(!1);let u=null;function a(){u&&(clearTimeout(u),u=null)}function o(){n.value=!1,a()}function c(...l){a(),n.value=!0,u=setTimeout(()=>{n.value=!1,u=null,e(...l)},h(t))}return r&&(n.value=!0,w&&c()),g(o),{isPending:L(n),start:c,stop:o}}function B(e){var t;const i=h(e);return(t=i==null?void 0:i.$el)!=null?t:i}const E=w?window:void 0,F=w?window.navigator:void 0;function A(...e){let t,i,r,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,r,n]=e,t=E):[t,i,r,n]=e,!t)return T;Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]);const u=[],a=()=>{u.forEach(f=>f()),u.length=0},o=(f,v,m,y)=>(f.addEventListener(v,m,y),()=>f.removeEventListener(v,m,y)),c=C(()=>[B(t),h(n)],([f,v])=>{a(),f&&u.push(...i.flatMap(m=>r.map(y=>o(f,m,y,v))))},{immediate:!0,flush:"post"}),l=()=>{c(),a()};return g(l),l}function G(){const e=p(!1);return M()&&b(()=>{e.value=!0}),e}function W(e){const t=G();return x(()=>(t.value,Boolean(e())))}function N(e,t={}){const{window:i=E}=t,r=W(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function");let n;const u=p(!1),a=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",o):n.removeListener(o))},o=()=>{r.value&&(a(),n=i.matchMedia(V(e).value),u.value=!!(n!=null&&n.matches),n&&("addEventListener"in n?n.addEventListener("change",o):n.addListener(o)))};return Q(o),g(()=>a()),u}function j(e={}){const{navigator:t=F,read:i=!1,source:r,copiedDuring:n=1500,legacy:u=!1}=e,a=["copy","cut"],o=W(()=>t&&"clipboard"in t),c=x(()=>o.value||u),l=p(""),f=p(!1),v=k(()=>f.value=!1,n);function m(){o.value?t.clipboard.readText().then(s=>{l.value=s}):l.value=H()}if(c.value&&i)for(const s of a)A(s,m);async function y(s=h(r)){c.value&&s!=null&&(o.value?await t.clipboard.writeText(s):R(s),l.value=s,f.value=!0,v.start())}function R(s){const d=document.createElement("textarea");d.value=s??"",d.style.position="absolute",d.style.opacity="0",document.body.appendChild(d),d.select(),document.execCommand("copy"),d.remove()}function H(){var s,d,S;return(S=(d=(s=document==null?void 0:document.getSelection)==null?void 0:s.call(document))==null?void 0:d.toString())!=null?S:""}return{isSupported:c,text:l,copied:f,copy:y}}function q(e={}){const{window:t=E,initialWidth:i=1/0,initialHeight:r=1/0,listenOrientation:n=!0,includeScrollbar:u=!0}=e,a=p(i),o=p(r),c=()=>{t&&(u?(a.value=t.innerWidth,o.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};if(c(),$(c),A("resize",c,{passive:!0}),n){const l=N("(orientation: portrait)");C(l,()=>c())}return{width:a,height:o}}export{j as a,q as u};
